(this["webpackJsonpsudoku-solver"]=this["webpackJsonpsudoku-solver"]||[]).push([[0],[,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n(6);class o{constructor(e){this.cells=e}clone(){return new o(this.cells.map((e=>Object.assign({},e))))}toString(){return this.cells.map((e=>void 0!==e.number?e.number:".")).join("")}isCompleted(){return this.cells.every((e=>void 0!==e.number))}isCompletedAndValid(){for(const e of["row","col","box"])for(let t=1;t<=9;t++){const n=new Set;for(let i=1;i<=9;i++){const r=o.colRowForType(e,i,t),s=this.get(r[0],r[1]);void 0!==s.number&&n.add(s.number)}if(9!==n.size)return!1}return!0}emptyCells(){return this.cells.reduce(((e,t,n)=>(t.candidates=t.candidates.sort(((e,t)=>e-t)),void 0===t.number?[...e,[t,n]]:e)),[]).sort(((e,t)=>e[0].candidates.length-t[0].candidates.length))}static newFromNotation(e){return e=e.replace(/\n/g,""),new o(e.split("").map((e=>({number:"."===e?void 0:Number(e),candidates:[],isInitial:"."!==e}))))}static colorDiff(e,t){let n=!0;return t.cells.forEach(((t,i)=>{const r=e.cells[i];t.isDiff=t.number!==r.number||!o.sameCandidates(t.candidates,r.candidates),t.isDiff&&(n=!1)})),n}static colRow(e){return[e%9+1,Math.floor(e/9+1)]}setNumber(e,t,n){return this.get(e,t).number=n,this.clone()}toggleCandidate(e,t,n){const i=this.get(e,t);return i.number=void 0,i.candidates.includes(n)?i.candidates=i.candidates.filter((e=>e!==n)):i.candidates=[...i.candidates,n],this.clone()}clearCell(e,t){const n=this.get(e,t);return n.number=void 0,n.candidates=[],this.clone()}backtracking(){if(this.isCompleted())return this.isCompletedAndValid()?this:void 0;const e=this.emptyCells()[0],t=e[0].candidates.map((e=>e));for(const n of t){const t=this.clone();t.cells[e[1]].number=n;const[i,r]=o.colRow(e[1]);let s=!1;do{s=t.fillNumberOrCandidatesImpactedByCell(i,r)}while(s);const l=t.backtracking();if(void 0!==l)return l}}solveWithStep(e){const t=this.clone();return t[e](),t}fillNumberOrCandidatesForAllCells(){for(let e=1;e<=9;e++)for(let t=1;t<=9;t++)this.fillNumberOrCandidatesForCell(t,e)}fillNumberOrCandidatesForCell(e,t){const n=this.get(e,t);if(void 0===n.number){let i=n.candidates.length>0?n.candidates:Array.from({length:9},((e,t)=>t+1));for(let e=1;e<=9;e++)i=i.filter((n=>n!==this.get(e,t).number));for(let t=1;t<=9;t++)i=i.filter((n=>n!==this.get(e,t).number));const o=3*Math.ceil(e/3)-2,r=3*Math.ceil(t/3)-2;for(let e=r;e<=r+2;e++)for(let t=o;t<=o+2;t++)i=i.filter((n=>n!==this.get(t,e).number));1===i.length&&(n.number=i[0]),n.candidates=i}}fillNumberOrCandidatesImpactedByCell(e,t){const n=this.get(e,t).number;let i=!1;if(void 0!==n){for(let e=1;e<=9;e++)this.removeCandidateFromCell(e,t,n)&&(i=!0);for(let t=1;t<=9;t++)this.removeCandidateFromCell(e,t,n)&&(i=!0);const o=3*Math.ceil(e/3)-2,r=3*Math.ceil(t/3)-2;for(let e=r;e<=r+2;e++)for(let t=o;t<=o+2;t++)this.removeCandidateFromCell(t,e,n)&&(i=!0)}return i}removeCandidateFromCell(e,t,n){const i=this.get(e,t);if(void 0===i.number){const o=i.candidates.filter((e=>e!==n));if(1===o.length)return i.number=o[0],this.fillNumberOrCandidatesImpactedByCell(e,t),!0;const r=i.candidates.length!==o.length||!o.every((e=>i.candidates.includes(e)));return i.candidates=o,r}return!1}singleCandidateForNumberInGroup(){for(const e of["row","col","box"])for(let t=1;t<=9;t++){const n=new Map;for(let i=1;i<=9;i++){const r=o.colRowForType(e,i,t),s=this.get(r[0],r[1]);for(const e of s.number?[s.number]:s.candidates){const t=n.get(e);t?t.push(s):n.set(e,[s])}}n.forEach(((e,t)=>{1===e.length&&void 0===e[0].number&&(e[0].number=t)}))}}candidatesTuplesRemoveOtherCandidates(){for(const e of["row","col","box"])for(let t=1;t<=9;t++){const n=new Map,r=new Map,s=new Map,l=[];for(let c=1;c<=9;c++){const a=o.colRowForType(e,c,t),d=this.get(a[0],a[1]);if(void 0===d.number&&d.candidates.length>0){l.push(d);const e=d.candidates.sort(((e,t)=>e-t));for(const t of e)Object(i.c)(n,t,d);for(const t of Object(i.a)(e))Object(i.c)(r,t.join(""),d);Object(i.c)(s,e.join(""),d)}}s.forEach(((e,t)=>{t.length>1&&t.length===e.length&&this.removeCandidates(t,l,e)})),r.forEach(((e,t)=>{t.length===e.length&&t.split("").every((t=>Object(i.b)(n.get(Number(t)),e)))&&this.removeCandidates(t,l,e)}))}}alignedCandidatesInBoxRemoveCandidatesOnLine(){for(let e=1;e<=9;e++){const t=new Map,n=new Map;for(let s=1;s<=9;s++){const r=o.colRowForType("box",s,e),l=this.get(r[0],r[1]);void 0===l.number&&l.candidates.length>0&&l.candidates.forEach((e=>{Object(i.c)(t,e,r[0]),Object(i.c)(n,e,r[1])}))}const r=[[t,"col"],[n,"row"]];r.forEach(((e,t)=>{let[n,i]=e;n.forEach(((e,n)=>{if(1===new Set(e).size){const s=new Set(r[0===t?1:0][0].get(n));if(s&&s.size>1)for(let t=1;t<=9;t++)if(!s.has(t)){const r=o.colRowForType("col"===i?"row":"col",e[0],t),s=this.get(r[0],r[1]);void 0===s.number&&s.candidates.length>0&&(s.candidates=s.candidates.filter((e=>e!==n)))}}}))}))}}static colRowForType(e,t,n){switch(e){case"col":return[n,t];case"row":return[t,n];default:const e=(n-1)%3+1,i=(t-1)%3+1,o=1===e?1:2===e?4:7,r=Math.ceil(n/3);return[o+i-1,(1===r?1:2===r?4:7)+Math.ceil(t/3)-1]}}static sameCandidates(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}removeCandidates(e,t,n){const i=e.split("").map((e=>Number(e)));for(const o of t)n.includes(o)||(o.candidates=o.candidates.filter((e=>!i.includes(e))))}get(e,t){return this.cells[e-1+9*(t-1)]}isValid(e){if(e&&this.cells.some((e=>void 0===e.number&&0===e.candidates.length)))return!1;for(const t of["row","col","box"])for(let e=1;e<=9;e++){const n=new Map(Array.from({length:9},((e,t)=>[t+1,0])));for(let i=1;i<=9;i++){const r=o.colRowForType(t,i,e),s=this.get(r[0],r[1]);void 0!==(null===s||void 0===s?void 0:s.number)&&n.set(s.number,n.get(s.number)+1)}if(Array.from(n.values()).some((e=>e>1)))return!1}return!0}}const r={easy:["7..4..316...7....99.6..87.22.9154873..1637..4.7.2.....6.4..123...2......3..8.2691","26.8913.7.79......1.86.7...7.1.69..4456...9.2..2.1.7.66...728..813.........5.364.","8714.5..2.326.75...46.198.....9.......4.5319.7...61....97146....65.9.....8.57.64.",".625.3....5.....1...7.982..72.6843.594.7.518238.....6.....56.71.7....5.9..89.....","3..4.6752...7..9.87.98..41.1.7.2.345.543..1..2........9.5.34.81.62.8.5.38..5.....","29...53..57..8.6246........9.821.465....58297..26.4.8..6.5.1.3.....7.5..345..6..1",".....56.81..26..5365.73...1....7238..1..46.2..29....6.8.16.794246....7..9..3..81.","..67..853.523.......8.467122..8.1.67.7.46.9..6.1...2..86....14...96....83.51...29",".....2.6.5.198....29....1....5...9...7.26..1.....3987.93.6487.1..8...6.3756.914.2","5..6.2.......594.6..8....2.75.3.614812.98765.83..4....4.7...36...57..8.26...9...."],medium:["7.85436...9.6..1..5..1.....3..9.458.9.......7..7..5...1....6..3.36.5.79.2.......5",".49..13...2.394.8...8..2.4.....6....8.4....631...3.9..4....9.5.28...34.7.7...613.","..13.9......18.4...5....9...1.5.23....7..6..14...715..97.61......84.5.7.3.4.2....","67....9...8..6.5..5.24..168.6..87..93......2....6.3.....3.......5913.746.2.....5.","..4.7.69...5.39.4.1....57.....9...6...27..53.5..4..8197....6....81........38.7.5.","....4.1...1.95...49......8.4.5..37.2.2.5..9....3.9..48..8.76..3......2.7..9.35.1.","...361.926...9.......7...6..9..8.34.746........34..62.......23..72...489...85..7.","1......7.2..49.1.6..5..189....1......215........9382159...45......3.974.4.8....39","....7.......39..27.9.45.16.......258.....6749...52.6....18..97...87.4...34..1....","7623...48.1.......4..1..69..41963..538......6.......3.6...5..2...4.....9..978.4.."],hard:[".5.68..1.7....54...1..2.6...98....43........1....7....2...9...483.76.....7......5","....9.2...63..1.8.52....9.63957..14...84.5....4..1....6...2.5.9.......2..8..5....",".......87.....8.4.1.7...59..35..47..426.........2694..87...6....4..8...3..1.57...","8...6............9..5...1.8.485...1...68.2....9..3...76.71.49..1.9...4.235......1","6....481....2......1......493...8......3..572...........1.....54..6.53.7.67......","3.1...9...2..3..545....7..3.5...471..3...2..9..76.....2.....59......1.37..95....1","..1.9...33.7.......8..5..1..1...92...4..6..8...........9...4.6......7.3.47...2..8","9..6..53......1.627.2.9...8.4...987.....2...65...1......4.....9...95.2.......7...","..5...3......9..7.......4.8216........3685..95......6.8.4.3.....6.8....3...9.71..","..6.4.9...7..2.1.4..3.1.....3.9...5...58..7.........13.........2...9.5....76..4.."],expert:[".931............28....7..6..7...1...9.5....3.1...6......4..27......3...5.67....94",".8.9......9.........6..28..2...1..54.31......9..6...8........3....85..6.12..46...",".8..3.6.935.......2..91........7.8......5...66..8...9....2...58..........71..6..3","1....42...7.3....6..5.6..9.........9....8.6.4..7...38...2..5.3.31......8.4.......","......3..7.2..1.........7.8...5....72..94.....9.6...52....9...3.85.6.4..1......8.","...26.9.......83.11..........7......8..3.5....9....28....6...7..6.....5...897.1..","..3.....4...7.9..8.9....2..135......4..28....2..6.........5.........251..4..1..3.",".....4.8..8.....1.72......9.....1..7....58.3..9..4.....75...1..4....6.....12..9..",".29.......3....5.........16...521.....1.9.7......3..9....8.5..4.5......73.2..6...","...9..8.23....2....7....1....74.....5..8.6......2...13.3......81.....94..9..74..."]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n(4);class o{constructor(e){this.grid=e}solve(){if(!this.grid.isValid())return;let e,t,n=r.length,o=0,s=this.grid.clone(),l=s;for(;n>0;){l=s;const c=l;let a=!1;do{if(e=l.solveWithStep("fillNumberOrCandidatesForAllCells"),!e.isValid(!0))return;t=i.b.colorDiff(l,e),t||(l=e,a=!0)}while(!t);if(a&&(i.b.colorDiff(c,e),s=e),l=s.solveWithStep(r[o]),!l.isValid(!0))return;t=i.b.colorDiff(s,l),n=t?n-1:r.length,t||(s=l),o=(o+1)%r.length}return l.isCompleted()?l:l.backtracking()}}const r=["singleCandidateForNumberInGroup","candidatesTuplesRemoveOtherCandidates","alignedCandidatesInBoxRemoveCandidatesOnLine"]},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));n(14),n(15),n(5),n(4);function i(e){return Array.from({length:1<<e.length},((t,n)=>e.filter(((e,t)=>(1&n)<<t)))).filter((e=>e.length>1))}function o(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(e.length===t.length&&e.every(((e,n)=>e===t[n])))}function r(e,t,n){const i=e.get(t);i?i.push(n):e.set(t,[n])}}).call(this,"/")},function(e,t,n){e.exports={root:"Cell_root__3kq8h",number:"Cell_number__b6JWS",candidates:"Cell_candidates__1c9Wo",initial:"Cell_initial__1zgcJ"}},function(e,t,n){e.exports={root:"App_root__2CSG3",left:"App_left__1ks1Q",center:"App_center__3qpZh",right:"App_right__1V0tl"}},,,,,function(e,t,n){e.exports={root:"Grid_root__2EOIu"}},,,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(9),s=n.n(r),l=(n(20),n(13)),c=n.n(l),a=n(7),d=n.n(a),u=n(3);const h=e=>{let{number:t,candidates:n,isInitial:i}=e;return Object(u.jsxs)("div",{className:d.a.root,children:[t&&Object(u.jsx)("div",{className:d.a.number+(i?" "+d.a.initial:""),children:Object(u.jsx)("div",{children:t})}),Object(u.jsx)("div",{className:d.a.candidates,children:Array.from({length:9},((e,i)=>Object(u.jsx)("div",{className:d.a.candidate,style:{visibility:t||!n.includes(i+1)?"hidden":"visible"},children:i+1},i)))})]})};var b=n(12),f=n(4);const m=[[e=>`${e}`,"setNumber"],[e=>`shift+${e}`,"toggleCandidate"]],g=e=>{let{gridModel:t}=e;const[n,o]=Object(i.useState)(!1),[r,s]=Object(i.useState)(t);Object(i.useEffect)((()=>s(t)),[t]);const[l,a]=Object(i.useState)();for(let i=1;i<=9;i++)for(const e of m)Object(b.a)(e[0](i),(t=>{!l||t.repeat||r.get(l[0],l[1]).isInitial||(s(r[e[1]](l[0],l[1],i)),o(!n))}),[l,r,o]);function d(e,t,n){return(null===l||void 0===l?void 0:l[0])===e&&(null===l||void 0===l?void 0:l[1])===t?n.isDiff?"#8FCFE4":"#1FA1F3":(null===l||void 0===l?void 0:l[0])===e||(null===l||void 0===l?void 0:l[1])===t?n.isDiff?"#F0F5E5":"#E0EDF6":n.isDiff?"#FFFDD4":"white"}return Object(b.a)(["backspace","delete"],(e=>{!l||e.repeat||r.get(l[0],l[1]).isInitial||(s(r.clearCell(l[0],l[1])),o(!n))}),[l,r,o]),Object(u.jsx)("div",{className:c.a.root,children:r.cells.map(((e,t)=>{const[n,i]=f.b.colRow(t);return Object(u.jsx)("div",{onMouseEnter:()=>a([n,i]),onMouseLeave:()=>a(void 0),style:{backgroundColor:d(n,i,e)},children:Object(u.jsx)(h,{...e})},t)}))})};var j=n(8),p=n.n(j),v=n(5),O=n(2);const x=/^[1-9.]{81}$/,C=()=>{const[e]=Object(i.useState)(window.location.hash.substring(1)),t=function(e){if(x.test(e))return e;return f.a.easy[Math.floor(Math.random()*f.a.easy.length)]}(e),[n,o]=Object(i.useState)(t),[r,s]=Object(i.useState)(f.b.newFromNotation(n)),[l,c]=Object(i.useState)(x.test(n)&&r.isValid());let{hash:a}=Object(O.k)();a=a.substring(1),a!==e&&a!==n&&x.test(a)?o(a):x.test(a)||window.location.replace("#"+n);const[d,h]=Object(i.useState)(!1);Object(i.useEffect)((()=>{let e=f.b.newFromNotation(n);s(e),c(x.test(n)&&e.isValid()),m([])}),[s,n]);const[b,m]=Object(i.useState)([]);function j(e){const t=f.a[e][Math.floor(Math.random()*f.a[e].length)];window.location.replace("#"+t)}return Object(u.jsxs)("div",{className:p.a.root,children:[Object(u.jsxs)("div",{className:p.a.left,children:[Object(u.jsxs)("section",{children:[Object(u.jsx)("strong",{children:"Generate a grid"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[Object(u.jsx)("button",{type:"button",onClick:()=>j("easy"),children:"Easy"}),Object(u.jsx)("button",{type:"button",onClick:()=>j("medium"),children:"Medium"}),Object(u.jsx)("button",{type:"button",onClick:()=>j("hard"),children:"Hard"}),Object(u.jsx)("button",{type:"button",onClick:()=>j("expert"),children:"Expert"})]})]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("strong",{children:"Customize or paste grid"}),Object(u.jsx)("textarea",{maxLength:81,value:n,onChange:e=>{window.location.replace("#"+e.currentTarget.value),o(e.currentTarget.value)}}),!l&&Object(u.jsx)("span",{style:{color:"red"},children:"This grid is invalid"})]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:Object(u.jsxs)("section",{children:[Object(u.jsx)("strong",{children:"Controls"}),Object(u.jsxs)("ul",{style:{margin:0,padding:"0",listStylePosition:"inside"},children:[Object(u.jsx)("li",{children:"Mouse hover over a cell"}),Object(u.jsx)("li",{children:"Press a number to set it on that cell"}),Object(u.jsx)("li",{children:"Press shift+number to set it as candidate on that cell"}),Object(u.jsx)("li",{children:"Press backspace or delete to clear a cell"})]})]})})]}),Object(u.jsx)("div",{className:p.a.center,children:Object(u.jsx)(g,{gridModel:r})}),Object(u.jsxs)("div",{className:p.a.right,children:[Object(u.jsxs)("section",{children:[Object(u.jsx)("strong",{children:"Solve the grid"}),Object(u.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[Object(u.jsx)("button",{type:"button",onClick:()=>function(){let e,t,n=v.a.length,i=0;const o=[["Initial grid",r]];let l=o[o.length-1][1],c=l;for(;n>0;){l=o[o.length-1][1],c=l;const r=c;let s=!1;do{e=c.solveWithStep("fillNumberOrCandidatesForAllCells"),t=f.b.colorDiff(c,e),t||(c=e,s=!0)}while(!t);s&&(f.b.colorDiff(r,e),o.push(["fillNumberOrCandidatesForAllCells",e])),c=l.solveWithStep(v.a[i]),t=f.b.colorDiff(l,c),n=t?n-1:v.a.length,t||o.push([v.a[i],c]),i=(i+1)%v.a.length}if(!c.isCompleted()){const e=c.backtracking();e&&o.push(["backtracking",e])}m([...o]),s(o[o.length-1][1]),h(!d)}(),disabled:!l,children:"Solve"}),Object(u.jsx)("button",{type:"button",onClick:()=>{l?(s(f.b.newFromNotation(n)),m([])):(window.location.hash="",window.location.reload())},children:"Reset"})]})]}),Object(u.jsx)("div",{style:{overflow:"auto",padding:"0 10px"},children:l&&b.length>0&&(null===b||void 0===b?void 0:b.map(((e,t)=>{let[n,i]=e;return Object(u.jsxs)("div",{style:{zoom:.7,display:"flex",flexDirection:"column",gap:"5px"},children:[Object(u.jsxs)("strong",{style:{textTransform:"capitalize"},children:[t,". ",n.replace(/([a-z0-9])([A-Z])/g,"$1 $2")]}),Object(u.jsx)(g,{gridModel:i})]},t)})))}),Object(u.jsx)("div",{style:{zoom:.7,height:0,visibility:"hidden"},children:Object(u.jsx)(g,{gridModel:r})})]})]})};var w=n(11);s.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(w.a,{children:Object(u.jsx)(C,{})})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.2a7e6283.chunk.js.map